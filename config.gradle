gradle.properties
import java.text.SimpleDateFormat

ext {
    APP_NAME = "MVPROOMArchiticture"
    APPLICATION_ID = "com.mvproomarchiticture"

    BASE_URL = "http://restcountries.eu"
//    BASE_URL = "https://reqres.in"
}


ext {
    versionMajor = 10
    versionMinor = 1
    versionPatch = 9
    versionBuild = 0

    computeVersionCode = this.&computeVersionCode
    computeVersionName = this.&computeVersionName

    generateName = this.&generateName
}


def computeVersionCode() {
    return versionMajor// * 1000000 + versionMinor * 10000 + versionPatch * 100 + versionBuild
}

def computeVersionName() {
    return "${versionMinor}.${versionPatch}.${versionBuild}"
}

def generateName(appVariants) {
    appVariants.all { variant ->
        variant.outputs.each { output ->
            def apkName = APP_NAME

            if (variant.buildType.name == "release") {
                apkName += "_v.${variant.versionName}_" + getDate()
            } else {
                apkName += "_debug"
            }

            def flavors = variant.productFlavors[0]
            def flavorName = flavors == null || flavors.name == null ? "" : "-" + flavors.name

            apkName += flavorName + ".apk"

            output.outputFileName = new File(apkName)
            // output.outputFileName =new File("$relativeRootDir", apkName)
        }
    }
}

static def getDate() {
    def df = new SimpleDateFormat("yyyy-MM-dd") //you can change it
    df.setTimeZone(TimeZone.getTimeZone("UTC"))
    return df.format(new Date())
}
